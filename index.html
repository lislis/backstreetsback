<html>
  <head>
    <!-- <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script> -->
    <script src="a-frame-dev.js"></script>

    <script>
     AFRAME.registerShader('brix', {
       schema: {},
       vertexShader: `
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}
       `,
       fragmentShader: `
varying vec2 vUv;

void main() {
  float single = (mod(vUv[0], 0.09) * 60.0) * mod(vUv[1], 0.06) * 100.0;
  vec3 construct = vec3(single);

  construct.b = 0.3 * construct.r;
  construct.g = 0.3 * construct.r;

  gl_FragColor = vec4(construct, 1.0);
}
       `
     });
    </script>
  </head>
  <body>
    <a-scene fog="type: exponential; color: #333; density: 0.01" light="defaultLightsEnabled: false">
      <a-entity id="walls" position="0 0 0">
        <a-entity  position="-7 4 -12" geometry="primitive: box; width: 10; height: 8" material="shader: brix"></a-entity>
        <a-entity  position="-2 4 -5" geometry="primitive: box; width: 15; height: 8" rotation="0 -90 0" material="shader: brix"></a-entity>
        <a-entity position="-12 7 -4" geometry="width: 8; height: 15; depth: 12" rotation="0 -90 0" material="shader: brix"></a-entity>
        <a-entity position="-12 4 4" geometry="width: 15; height: 8" rotation="0 -90 0" material="shader: brix"></a-entity>
        <a-entity position="-5 4 11" geometry="width: 15; height: 8" rotation="" material="shader: brix"></a-entity>
        <a-entity position="-2 10.85 12" geometry="width: 8; height: 22; depth: 12" rotation="" material="shader: brix"></a-entity>
        <a-entity position="4 4 11" geometry="width: 15; height: 8" rotation="" material="shader: brix"></a-entity>
        <a-entity position="1 6 0" geometry="width: 8; height: 14; depth: 5" rotation="" material="shader: brix"></a-entity>
        <a-entity position="11 4 0" geometry="width: 23; height: 8" rotation="0 90 0" material="shader: brix"></a-entity>
        <a-entity position="7 10 -11" geometry="width: 10; height: 22; depth: 12" rotation="" material="shader: brix"></a-entity>
      </a-entity>

      <a-entity camera look-controls position="-7 1.6 -7" rotation="0 90 0" id="player">
        <a-entity id="light" position="0 -6 0" rotation="90 0 0" light="type: spot; color: #BBB; intensity: 0.4"></a-entity>
      </a-entity>

      <a-plane id="floor" position="0 0 0" rotation="-90 0 0" width="30" height="30" color="#4a3d39"></a-plane>
      <a-sky color="#ECECEC"></a-sky>
    </a-scene>


    <script>
     var playerEl = document.querySelector('#player');
     console.log(playerEl.getAttribute('position'));

     let checkpoints = {
       stop1: {x: 2, y: 2, z: 5},
       stop2: {x: 5, y: 2, z: 8},
       strop: {x: 7, y: 2, z: 5}
     }


     function moveCam(dt) {
       playerEl.object3D.position.x += 0.01;

       window.requestAnimationFrame(moveCam);
     }

     let aF = window.requestAnimationFrame(moveCam);



    </script>
  </body>
</html>
